<button class="setting-and-edit" onclick="openForm3()">
  <%="To edit"%>
</button>
<div class="CvLanguageForm" id="CvLanguageForm">
  <div class="form_language">
    <%= form_for(CvLanguage.new)  do |f| %>
      <div class="select-language">
        <%= f.select :language_id, options_from_collection_for_select(Language.all, "id", "name") %>
      </div>
      <div class="submit-language">
        <button class="btn btn-outline-secondary" type="button" onclick="closeForm3()">
          <%=  t("global.cancel") %>
        </button>
        <%= f.submit t("global.up"), class: "hello btn btn-up"%>
      </div>
    <%end%><br>
  </div>
</div>
<div class="listUserLanguage">
  <ul id="submitter1">
    <% current_user.cv.cv_languages.each do |cv_language| %>
      <div class="deleteButton">
        <li><span class='form-control' id="submitter-language" ><%= cv_language.language.name %></span>
          <div class="language-Delete">
            <%= link_to t("global.delete"), cv_language, remote: true, method: :delete, data: { confirm: t("global.yousure") },class: 'btn btn-outline-secondary destroy' %>
          </div>
        </li>
      </div>
    <% end %>
  </ul>
</div>

<script>
function openForm3() {
  document.getElementById("CvLanguageForm").style.display = "block";
}

function closeForm3() {
  document.getElementById("CvLanguageForm").style.display = "none";
}
</script>

<script type="text/javascript">
  $(document).ready(function() {
    $(".form_language form").on('submit',function(event) {
      event.preventDefault();
      var formHTML = event.target;
      $.ajax({
        url: formHTML.action,
        method: 'PATCH',
        data: $(this).serialize(),
        success: function(data){
          $('#cv_language').html(data);
        }
      });
    });
  });
</script>
